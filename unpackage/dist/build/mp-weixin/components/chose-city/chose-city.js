(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/chose-city/chose-city"],{"083f":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9414"));function a(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{isIPX:null,regionId:null,isToggle:!0,isReach:!1,inputValue:"",searchData:[],isClearBtn:!1,toIndex:"",tipsLetter:"",timer:null,hasNoData:!1,searchFocus:!1,letterDetails:[],currentLetter:"area",cityArr:[],recordList:[],cityList:[],hasLocation:!1,myCityObj:{},alphabet:[]}},mounted:function(){this.cityArr=n.default.data.list,this.cityArr&&this.cityArr[0]&&(this.cityArr.map((function(t){t.nameType=t.pinyin.substr(0,1)})),this.cityList=this.groupArr(this.cityArr,"nameType")),this.recordList=n.default.data.recordList,this.alphabet=n.default.data.alphabet,this.getLocation()},watch:{inputValue:function(t){var e=this;this.isClearBtn=!!t,this.timer&&clearTimeout(this.timer),this.inputValue?this.timer=setTimeout((function(){var t=[];e.cityList.map((function(i){i.list.forEach((function(i){(/^[a-zA-Z]+$/.test(i.pinyin)&&i.pinyin.toLowerCase().includes(e.inputValue.toLowerCase())||i.name.includes(e.inputValue))&&t.push(i)}))})),e.searchData=t,0===e.searchData.length?e.hasNoData=!0:e.hasNoData=!1}),500):this.searchData=[]},isReach:function(t){this.searchFocus=t}},methods:{getLocation:function(){var e=this;t.getLocation({success:function(i){console.log("---",i),i.name=i.city,i.citycode=i.cityAdcode,e.myCityObj=i,e.hasLocation=!0,t.setStorageSync("nowCityObj",i)},fail:function(i){e.hasLocation=!1,t.showToast({icon:"none",title:"获取用户定位失败，请手动选择当前城市"})}})},groupArr:function(t,e){var i=[],n=[];t.map((function(t){i.push(t[e])})),i=i.filter((function(t,e,i){return i.indexOf(t)==e}));for(var a=0;a<i.length;a++){var o=t.filter((function(t){return t[e]==i[a]}));n.push({nameType:o[0].nameType,list:o})}return n},selectCity:function(e,i){var n=this;if("refresh"===i&&!this.hasLocation)return this.getLocation();t.setStorageSync("myCityObj",e),this.$emit("selectCity",e),this.toIndex="area",setTimeout((function(){n.toIndex=""}),1e3)},closeModal:function(){this.$emit("closeModal")},scrollHandle:function(e){var i=this,n=t.createSelectorQuery().in(this).selectAll(".list-item");n.boundingClientRect((function(t){var e=t[0].top;t.forEach((function(t){t.top=t.top-e,t.bottom=t.bottom-e,i.letterDetails.push({id:t.id,top:t.top,bottom:t.bottom})}))})).exec();var a=e.detail.scrollTop;this.letterDetails.some((function(t){if(a>=t.top&&a<=t.bottom-20)return i.currentLetter=t.id,!0}))},searchChange:function(t){var e=t.detail.value;this.inputValue=e},touchStart:function(t){},touchMove:function(e){t.vibrateShort();var i=e.touches[0].clientY,n=e.currentTarget.offsetTop;if(i>n){var a=parseInt((i-n)/15),o=this.alphabet[a];this.tipsLetter=o;var r=this.letterTransform(o);t.showToast({title:r,icon:"none"})}},touchEnd:function(){this.toIndex=this.tipsLetter},getLetter:function(e){t.vibrateShort();var i=e.currentTarget.id;this.tipsLetter=i;var n=this.letterTransform(i);t.showToast({title:n,icon:"none"})},setLetter:function(){this.toIndex=this.tipsLetter},letterTransform:function(t){var e="";return e="area"==t?"当前":"record"==t?"历史":t,e}}};e.default=o}).call(this,i("543d")["default"])},"3da1":function(t,e,i){},ae74:function(t,e,i){"use strict";var n=i("3da1"),a=i.n(n);a.a},aecb:function(t,e,i){"use strict";i.r(e);var n=i("083f"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d43d:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.inputValue=""})},o=[]},e3e5:function(t,e,i){"use strict";i.r(e);var n=i("d43d"),a=i("aecb");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("ae74");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"b90c721a",null,!1,n["a"],r);e["default"]=c.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/chose-city/chose-city-create-component',
    {
        'components/chose-city/chose-city-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("e3e5"))
        })
    },
    [['components/chose-city/chose-city-create-component']]
]);
